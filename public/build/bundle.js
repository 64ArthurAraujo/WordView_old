var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t,e,n,r){if(t){const o=i(t,e,n,r);return t[0](o)}}function i(t,e,n,r){return t[1]&&r?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](r(e))):n.ctx}function l(t,e,n,r){if(t[2]&&r){const o=t[2](r(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|o[r];return t}return e.dirty|o}return e.dirty}function u(t,e,n,r,o,s){if(o){const c=i(e,n,r,s);t.p(c,o)}}function a(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function f(t,e){t.appendChild(e)}function d(t,e,n){t.insertBefore(e,n||null)}function $(t){t.parentNode.removeChild(t)}function h(t){return document.createElement(t)}function p(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function m(){return t=" ",document.createTextNode(t);var t}function g(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function w(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}let x;function y(t){x=t}function b(t){(function(){if(!x)throw new Error("Function called outside component initialization");return x})().$$.on_mount.push(t)}const k=[],v=[],_=[],z=[],E=Promise.resolve();let W=!1;function j(t){_.push(t)}const A=new Set;let S=0;function M(){const t=x;do{for(;S<k.length;){const t=k[S];S++,y(t),C(t.$$)}for(y(null),k.length=0,S=0;v.length;)v.pop()();for(let t=0;t<_.length;t+=1){const e=_[t];A.has(e)||(A.add(e),e())}_.length=0}while(k.length);for(;z.length;)z.pop()();W=!1,A.clear(),y(t)}function C(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(j)}}const L=new Set;let O;function N(){O={r:0,c:[],p:O}}function P(){O.r||r(O.c),O=O.p}function B(t,e){t&&t.i&&(L.delete(t),t.i(e))}function H(t,e,n,r){if(t&&t.o){if(L.has(t))return;L.add(t),O.c.push((()=>{L.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}function T(t){t&&t.c()}function I(t,n,s,c){const{fragment:i,on_mount:l,on_destroy:u,after_update:a}=t.$$;i&&i.m(n,s),c||j((()=>{const n=l.map(e).filter(o);u?u.push(...n):r(n),t.$$.on_mount=[]})),a.forEach(j)}function q(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function F(t,e){-1===t.$$.dirty[0]&&(k.push(t),W||(W=!0,E.then(M)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function D(e,o,s,c,i,l,u,a=[-1]){const f=x;y(e);const d=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(f?f.$$.context:[])),callbacks:n(),dirty:a,skip_bound:!1,root:o.target||f.$$.root};u&&u(d.root);let h=!1;if(d.ctx=s?s(e,o.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return d.ctx&&i(d.ctx[t],d.ctx[t]=o)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](o),h&&F(e,t)),n})):[],d.update(),h=!0,r(d.before_update),d.fragment=!!c&&c(d.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);d.fragment&&d.fragment.l(t),t.forEach($)}else d.fragment&&d.fragment.c();o.intro&&B(e.$$.fragment),I(e,o.target,o.anchor,o.customElement),M()}y(f)}class J{$destroy(){q(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var R;function U(){const t=new URLSearchParams(window.location.search).get("state");if(t)return function(t){switch(t){case"home":default:return R.home;case"editor":return R.editor}}(t)}function V(t){window.location.replace(window.location.href.split("?")[0]+=`?state=${t}`)}function Y(e){let n,r,o,s;return{c(){n=p("svg"),r=p("line"),o=p("polyline"),w(r,"x1","19"),w(r,"y1","12"),w(r,"x2","5"),w(r,"y2","12"),w(o,"points","12 19 5 12 12 5"),w(n,"xmlns","http://www.w3.org/2000/svg"),w(n,"width",e[0]),w(n,"height",e[0]),w(n,"fill","none"),w(n,"viewBox","0 0 24 24"),w(n,"stroke","currentColor"),w(n,"stroke-width",e[1]),w(n,"stroke-linecap","round"),w(n,"stroke-linejoin","round"),w(n,"class",s="feather feather-arrow-left "+e[2])},m(t,e){d(t,n,e),f(n,r),f(n,o)},p(t,[e]){1&e&&w(n,"width",t[0]),1&e&&w(n,"height",t[0]),2&e&&w(n,"stroke-width",t[1]),4&e&&s!==(s="feather feather-arrow-left "+t[2])&&w(n,"class",s)},i:t,o:t,d(t){t&&$(n)}}}function G(t,e,n){let{size:r="24"}=e,{strokeWidth:o=2}=e,{class:s=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,o=t.strokeWidth),"class"in t&&n(2,s=t.class)},[r,o,s]}!function(t){t[t.home=0]="home",t[t.editor=1]="editor"}(R||(R={}));class K extends J{constructor(t){super(),D(this,t,G,Y,s,{size:0,strokeWidth:1,class:2})}}function Q(e){let n,r,o,s,c,i;return{c(){n=p("svg"),r=p("circle"),o=p("path"),s=p("line"),c=p("line"),w(r,"cx","12"),w(r,"cy","12"),w(r,"r","10"),w(o,"d","M16 16s-1.5-2-4-2-4 2-4 2"),w(s,"x1","9"),w(s,"y1","9"),w(s,"x2","9.01"),w(s,"y2","9"),w(c,"x1","15"),w(c,"y1","9"),w(c,"x2","15.01"),w(c,"y2","9"),w(n,"xmlns","http://www.w3.org/2000/svg"),w(n,"width",e[0]),w(n,"height",e[0]),w(n,"fill","none"),w(n,"viewBox","0 0 24 24"),w(n,"stroke","currentColor"),w(n,"stroke-width",e[1]),w(n,"stroke-linecap","round"),w(n,"stroke-linejoin","round"),w(n,"class",i="feather feather-frown "+e[2])},m(t,e){d(t,n,e),f(n,r),f(n,o),f(n,s),f(n,c)},p(t,[e]){1&e&&w(n,"width",t[0]),1&e&&w(n,"height",t[0]),2&e&&w(n,"stroke-width",t[1]),4&e&&i!==(i="feather feather-frown "+t[2])&&w(n,"class",i)},i:t,o:t,d(t){t&&$(n)}}}function X(t,e,n){let{size:r="24"}=e,{strokeWidth:o=2}=e,{class:s=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,o=t.strokeWidth),"class"in t&&n(2,s=t.class)},[r,o,s]}class Z extends J{constructor(t){super(),D(this,t,X,Q,s,{size:0,strokeWidth:1,class:2})}}function tt(e){let n,r,o,s;return{c(){n=p("svg"),r=p("line"),o=p("line"),w(r,"x1","12"),w(r,"y1","5"),w(r,"x2","12"),w(r,"y2","19"),w(o,"x1","5"),w(o,"y1","12"),w(o,"x2","19"),w(o,"y2","12"),w(n,"xmlns","http://www.w3.org/2000/svg"),w(n,"width",e[0]),w(n,"height",e[0]),w(n,"fill","none"),w(n,"viewBox","0 0 24 24"),w(n,"stroke","currentColor"),w(n,"stroke-width",e[1]),w(n,"stroke-linecap","round"),w(n,"stroke-linejoin","round"),w(n,"class",s="feather feather-plus "+e[2])},m(t,e){d(t,n,e),f(n,r),f(n,o)},p(t,[e]){1&e&&w(n,"width",t[0]),1&e&&w(n,"height",t[0]),2&e&&w(n,"stroke-width",t[1]),4&e&&s!==(s="feather feather-plus "+t[2])&&w(n,"class",s)},i:t,o:t,d(t){t&&$(n)}}}function et(t,e,n){let{size:r="24"}=e,{strokeWidth:o=2}=e,{class:s=""}=e;return"100%"!==r&&(r="x"===r.slice(-1)?r.slice(0,r.length-1)+"em":parseInt(r)+"px"),t.$$set=t=>{"size"in t&&n(0,r=t.size),"strokeWidth"in t&&n(1,o=t.strokeWidth),"class"in t&&n(2,s=t.class)},[r,o,s]}class nt extends J{constructor(t){super(),D(this,t,et,tt,s,{size:0,strokeWidth:1,class:2})}}function rt(t){let e,n,r;const o=t[2].default,s=c(o,t,t[1],null);return{c(){e=h("div"),s&&s.c(),w(e,"class",n=`bg-black-lighter h-full w-1/5 fixed ${t[0]}-0`)},m(t,n){d(t,e,n),s&&s.m(e,null),r=!0},p(t,[c]){s&&s.p&&(!r||2&c)&&u(s,o,t,t[1],r?l(o,t[1],c,null):a(t[1]),null),(!r||1&c&&n!==(n=`bg-black-lighter h-full w-1/5 fixed ${t[0]}-0`))&&w(e,"class",n)},i(t){r||(B(s,t),r=!0)},o(t){H(s,t),r=!1},d(t){t&&$(e),s&&s.d(t)}}}function ot(t,e,n){let{$$slots:r={},$$scope:o}=e,{direction:s="left"}=e;return t.$$set=t=>{"direction"in t&&n(0,s=t.direction),"$$scope"in t&&n(1,o=t.$$scope)},[s,o,r]}class st extends J{constructor(t){super(),D(this,t,ot,rt,s,{direction:0})}}function ct(t){let e,n;const r=t[1].default,o=c(r,t,t[0],null);return{c(){e=h("div"),o&&o.c(),w(e,"class","bg-black-focus h-1/6 w-full fixed bottom-0")},m(t,r){d(t,e,r),o&&o.m(e,null),n=!0},p(t,[e]){o&&o.p&&(!n||1&e)&&u(o,r,t,t[0],n?l(r,t[0],e,null):a(t[0]),null)},i(t){n||(B(o,t),n=!0)},o(t){H(o,t),n=!1},d(t){t&&$(e),o&&o.d(t)}}}function it(t,e,n){let{$$slots:r={},$$scope:o}=e;return t.$$set=t=>{"$$scope"in t&&n(0,o=t.$$scope)},[o,r]}class lt extends J{constructor(t){super(),D(this,t,it,ct,s,{})}}function ut(e){let n,r,o,s,c;return r=new K({props:{size:"14",class:"invert"}}),{c(){n=h("div"),T(r.$$.fragment),w(n,"class","bg-black-lightest hover:bg-accent-darker transition-colors hover:cursor-pointer mt-2 ml-2 px-2 py-2 border-none fixed rounded-full")},m(t,i){d(t,n,i),I(r,n,null),o=!0,s||(c=g(n,"click",e[0]),s=!0)},p:t,i(t){o||(B(r.$$.fragment,t),o=!0)},o(t){H(r.$$.fragment,t),o=!1},d(t){t&&$(n),q(r),s=!1,c()}}}function at(e){let n;return{c(){n=h("div"),w(n,"class","bg-black-lightest fixed h-1 w-full")},m(t,e){d(t,n,e)},p:t,d(t){t&&$(n)}}}function ft(t){let e,n,r,o,s,c;return e=new st({props:{$$slots:{default:[ut]},$$scope:{ctx:t}}}),r=new st({props:{direction:"right"}}),s=new lt({props:{$$slots:{default:[at]},$$scope:{ctx:t}}}),{c(){T(e.$$.fragment),n=m(),T(r.$$.fragment),o=m(),T(s.$$.fragment)},m(t,i){I(e,t,i),d(t,n,i),I(r,t,i),d(t,o,i),I(s,t,i),c=!0},p(t,[n]){const r={};2&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const o={};2&n&&(o.$$scope={dirty:n,ctx:t}),s.$set(o)},i(t){c||(B(e.$$.fragment,t),B(r.$$.fragment,t),B(s.$$.fragment,t),c=!0)},o(t){H(e.$$.fragment,t),H(r.$$.fragment,t),H(s.$$.fragment,t),c=!1},d(t){q(e,t),t&&$(n),q(r,t),t&&$(o),q(s,t)}}}function dt(t){return[()=>V("home")]}class $t extends J{constructor(t){super(),D(this,t,dt,ft,s,{})}}function ht(e){let n,r,o,s,c;return r=new nt({props:{size:"24",class:"invert"}}),{c(){n=h("div"),T(r.$$.fragment),w(n,"class","bg-accent-regular hover:bg-accent-darker transition-colors hover:cursor-pointer mb-4 mr-4 px-5 py-5 border-none fixed rounded-full bottom-0 right-0")},m(t,i){d(t,n,i),I(r,n,null),o=!0,s||(c=g(n,"click",e[0]),s=!0)},p:t,i(t){o||(B(r.$$.fragment,t),o=!0)},o(t){H(r.$$.fragment,t),o=!1},d(t){t&&$(n),q(r),s=!1,c()}}}function pt(t){return[()=>V("editor")]}class mt extends J{constructor(t){super(),D(this,t,pt,ht,s,{})}}function gt(t){let e,n;const r=t[1].default,o=c(r,t,t[0],null);return{c(){e=h("div"),o&&o.c(),w(e,"class","bg-black-lighter w-full h-12 fixed")},m(t,r){d(t,e,r),o&&o.m(e,null),n=!0},p(t,[e]){o&&o.p&&(!n||1&e)&&u(o,r,t,t[0],n?l(r,t[0],e,null):a(t[0]),null)},i(t){n||(B(o,t),n=!0)},o(t){H(o,t),n=!1},d(t){t&&$(e),o&&o.d(t)}}}function wt(t,e,n){let{$$slots:r={},$$scope:o}=e;return t.$$set=t=>{"$$scope"in t&&n(0,o=t.$$scope)},[o,r]}class xt extends J{constructor(t){super(),D(this,t,wt,gt,s,{})}}const yt=require("fs"),bt=(process.env.APPDATA||("darwin"==process.platform?process.env.HOME+"/Library/Preferences":process.env.HOME+"/.local/share"))+"/wordview/wordmaps/";function kt(){yt.existsSync(bt)||yt.mkdirSync(bt,{recursive:!0});const t=yt.readdirSync(bt);if(0===t.length)return new Array;const e=function(t){console.log("parsing wordmaps...");const e=function(t){const e=[];return console.log(t),t.forEach((t=>{t.endsWith(".wordmap.json")&&(console.log("found wordmap file!"),e.push(t))})),e}(t);return 0===e.length?new Array:function(t){console.log("processing wordmaps...");let e=[];return t.forEach((t=>{let n=yt.readFileSync(bt+t,"utf8");e.push(JSON.parse(n))})),e}(e)}(t);return e}function vt(e){let n,r,o;return{c(){n=h("h1"),n.textContent="1",r=m(),o=h("div"),w(o,"class","justify-center items-center flex flex-col")},m(t,e){d(t,n,e),d(t,r,e),d(t,o,e)},i:t,o:t,d(t){t&&$(n),t&&$(r),t&&$(o)}}}function _t(t){let e,n,r,o,s;return n=new Z({props:{size:"48",class:"invert mb-2"}}),{c(){e=h("div"),T(n.$$.fragment),r=m(),o=h("h4"),o.innerHTML="<b>You dont have any wordmaps yet...</b>",w(o,"class","text-white align-middle select-none"),w(e,"class","justify-center text-center content-center items-center flex flex-col pt-72")},m(t,c){d(t,e,c),I(n,e,null),f(e,r),f(e,o),s=!0},i(t){s||(B(n.$$.fragment,t),s=!0)},o(t){H(n.$$.fragment,t),s=!1},d(t){t&&$(e),q(n)}}}function zt(t){let e,n,r,o;const s=[_t,vt],c=[];function i(t,e){return 0==t[0].length?0:1}return n=i(t),r=c[n]=s[n](t),{c(){e=h("div"),r.c(),w(e,"class","w-full h-full flex static justify-center content-center pt-12")},m(t,r){d(t,e,r),c[n].m(e,null),o=!0},p(t,[o]){let l=n;n=i(t),n!==l&&(N(),H(c[l],1,1,(()=>{c[l]=null})),P(),r=c[n],r||(r=c[n]=s[n](t),r.c()),B(r,1),r.m(e,null))},i(t){o||(B(r),o=!0)},o(t){H(r),o=!1},d(t){t&&$(e),c[n].d()}}}function Et(t,e,n){let{wordmaps:r=new Array}=e;return b((()=>{n(0,r=kt())})),t.$$set=t=>{"wordmaps"in t&&n(0,r=t.wordmaps)},[r]}class Wt extends J{constructor(t){super(),D(this,t,Et,zt,s,{wordmaps:0})}}function jt(e){let n;return{c(){n=h("div"),n.innerHTML='<h2 class="text-white text-xl select-none"><b>WordView</b></h2>',w(n,"class","h-full flex items-center justify-centers pl-4")},m(t,e){d(t,n,e)},p:t,d(t){t&&$(n)}}}function At(t){let e,n,r,o,s,c;return e=new xt({props:{$$slots:{default:[jt]},$$scope:{ctx:t}}}),r=new Wt({}),s=new mt({}),{c(){T(e.$$.fragment),n=m(),T(r.$$.fragment),o=m(),T(s.$$.fragment)},m(t,i){I(e,t,i),d(t,n,i),I(r,t,i),d(t,o,i),I(s,t,i),c=!0},p(t,[n]){const r={};1&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){c||(B(e.$$.fragment,t),B(r.$$.fragment,t),B(s.$$.fragment,t),c=!0)},o(t){H(e.$$.fragment,t),H(r.$$.fragment,t),H(s.$$.fragment,t),c=!1},d(t){q(e,t),t&&$(n),q(r,t),t&&$(o),q(s,t)}}}class St extends J{constructor(t){super(),D(this,t,null,At,s,{})}}function Mt(t){let e,n;return e=new $t({}),{c(){T(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},i(t){n||(B(e.$$.fragment,t),n=!0)},o(t){H(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Ct(t){let e,n;return e=new St({}),{c(){T(e.$$.fragment)},m(t,r){I(e,t,r),n=!0},i(t){n||(B(e.$$.fragment,t),n=!0)},o(t){H(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Lt(t){let e,n,r,o;const s=[Ct,Mt],c=[];function i(t,e){return t[0]==R.home?0:t[0]==R.editor?1:-1}return~(n=i(t))&&(r=c[n]=s[n](t)),{c(){e=h("main"),r&&r.c()},m(t,r){d(t,e,r),~n&&c[n].m(e,null),o=!0},p(t,[o]){let l=n;n=i(t),n!==l&&(r&&(N(),H(c[l],1,1,(()=>{c[l]=null})),P()),~n?(r=c[n],r||(r=c[n]=s[n](t),r.c()),B(r,1),r.m(e,null)):r=null)},i(t){o||(B(r),o=!0)},o(t){H(r),o=!1},d(t){t&&$(e),~n&&c[n].d()}}}function Ot(t,e,n){var r;let{state:o=(null!==(r=U())&&void 0!==r?r:R.home)}=e;return t.$$set=t=>{"state"in t&&n(0,o=t.state)},[o]}return new class extends J{constructor(t){super(),D(this,t,Ot,Lt,s,{state:0})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
